<div class="modal-header">
	<h3 class="modal-title pull-left">SHOPPING CART</h3>
	<span class="close-popup glyphicon glyphicon-remove pull-right" ng-click="cancel()"></span>
</div>
<div class="modal-body">
	<div ng-controller="checkoutController" ng-init="checkout.cartContext = javaScriptShoppingCart.cartContext;">
		<div class="wrap" ng-if="!checkout.isFinished">
			<div class="checkout-sidebar">
				<div class="checkout-sidebar__content">
					<div class="order-summary" ng-class="{ 'order-summary--is-expanded': orderSummaryVisible, 'order-summary--is-collapsed': !orderSummaryVisible }">
						<div class="order-summary__section order-summary__section--product-list">
							<vc-checkout-line-items items="checkout.cart.items" show-prices-with-taxes="checkout.cartContext.showPricesWithTaxes"  currency="checkout.cartContext.currency"></vc-checkout-line-items>
						</div>
						<div class="order-summary__section order-summary__section--discount">
							<vc-checkout-coupon coupon="checkout.coupon" on-apply-coupon="applyCoupon(coupon)" on-remove-coupon="removeCoupon(coupon)"></vc-checkout-coupon>
						</div>
						<div class="order-summary__section order-summary__section--total-lines">
							<vc-checkout-totals cart="checkout.cart" show-prices-with-taxes="checkout.cartContext.showPricesWithTaxes" currency="checkout.cartContext.currency"></vc-checkout-totals>
						</div>
						<div class="order-summary__section order-summary__section--total">
							<vc-checkout-totals display-only-total="true" cart="checkout.cart" show-prices-with-taxes="checkout.cartContext.showPricesWithTaxes" currency="checkout.cartContext.currency"></vc-checkout-totals>
						</div>
					</div>
				</div>
			</div>
			<div class="main" role="main">
				<div class="main__header">
					<ul class="breadcrumb">
						<li class="breadcrumb__item" ng-repeat="step in checkout.wizard.steps" ng-if="!step.disabled && !step.final" ng-class="{ 'breadcrumb__item--current': step.isActive, 'breadcrumb__item--completed': !step.isActive }">
							<a class="breadcrumb__link" ng-href="javascript:;" ng-click="checkout.wizard.goToStep(step)" ng-if="!step.isActive" ng-bind="step.title"></a>
							<span ng-class="current" ng-if="step.isActive" ng-bind="step.title"></span>
						</li>
					</ul>
				</div>
				<div class="main__content">
					<vc-checkout-wizard wizard="checkout.wizard" on-initialized="initialize()" on-finish="createOrder()" loading="checkout.loading">
						<vc-checkout-wizard-step name="shipping-address" on-next-step="updateShipment(checkout.shipment)" title="Shipping address" disabled="!checkout.cart.hasPhysicalProducts">
							<div class="edit_checkout animate-floating-labels">
								<div class="step__sections">
									<div class="section section--contact-information">
										<div class="section__header">
											<h2 class="section__title">Customer information</h2>
										</div>
										<div class="section__content">
											<vc-checkout-email email="checkout.email"></vc-checkout-email>
										</div>
									</div>
									<div class="section section--shipping-address">
										<div class="section__header">
											<h2 class="section__title">Shipping address</h2>
										</div>
										<div class="section__content">
											<vc-checkout-address address="checkout.shipment.deliveryAddress" countries="checkout.availCountries" get-country-regions="getCountryRegions(country)" addresses="checkout.cart.customer.addresses" edit-mode="true"></vc-checkout-address>
										</div>
									</div>
								</div>
							</div>
						</vc-checkout-wizard-step>
						<vc-checkout-wizard-step name="shipping-method" title="Shipping method" on-next-step="updateShipment(checkout.shipment)" disabled="!checkout.cart.hasPhysicalProducts">
							<div class="edit_checkout animate-floating-labels">
								<div class="section section--shipping-address-recap">
									<div class="section__header">
										<h2 class="section__title">Shipping address</h2>
									</div>
									<div class="section__content">
										<p>
											<vc-checkout-address address="checkout.shipment.deliveryAddress" edit-mode="false"></vc-checkout-address>
										</p>
									</div>
								</div>
								<div class="section section--shipping-method">
									<div class="section__header">
										<h2 class="section__title">Shipping method</h2>
									</div>
									<div class="section__content">
										<vc-checkout-shipping-methods shipment="checkout.shipment" on-select-shipping-method="selectShippingMethod(shippingMethod)" get-avail-shipping-methods="getAvailShippingMethods(checkout.shipment)" currency="checkout.cartContext.currency"></vc-checkout-shipping-methods>
									</div>
								</div>
							</div>
						</vc-checkout-wizard-step>
						<vc-checkout-wizard-step name="payment-method" title="Payment method">
							<div class="edit_checkout animate-floating-labels">
								<div class="step__sections">
									<div class="section section--payment-method">
										<div class="section__header">
											<h2 class="section__title">Payment method</h2>
											<p class="section__text">All transactions are secure and encrypted. Credit card information is never stored.</p>
										</div>
										<div class="section__content">
											<vc-checkout-payment-methods get-avail-payment-methods="getAvailPaymentMethods()" payment-method="checkout.paymentMethod" on-select-method="selectPaymentMethod(paymentMethod)"></vc-checkout-payment-methods>
										</div>
									</div>
									<div class="section section--billing-address">
										<div class="section__header">
											<h2 class="section__title">Billing address</h2>
										</div>
										<div class="section__content">
											<div class="content-box">
												<div class="checkbox-wrapper content-box__row" ng-if="checkout.cart.hasPhysicalProducts">
													<div class="checkbox__input">
														<h1>Equals</h1>
														<input class="input-checkbox" id="BillingAddressEqualsShipping" name="BillingAddressEqualsShipping" ng-model="checkout.billingAddressEqualsShipping" type="checkbox" ng-checked="checkout.billingAddressEqualsShipping"/>
													</div>
													<label class="checkbox__label" for="BillingAddressEqualsShipping">Billing address is equal to shipping address</label>
												</div>
												<div class="radio-group__row content-box__row content-box__row--secondary" ng-if="!checkout.billingAddressEqualsShipping">
													<vc-checkout-address address="checkout.payment.billingAddress" countries="checkout.availCountries" get-country-regions="getCountryRegions(country)" addresses="checkout.cart.customer.addresses" on-update="validateCheckout(checkout)" edit-mode="true"></vc-checkout-address>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</vc-checkout-wizard-step>
						<vc-checkout-wizard-step name="create-order" title="Create order" final="true" can-enter="checkout.isValid">
						</vc-checkout-wizard-step>
					</vc-checkout-wizard>
				</div>
			</div>
		</div>
		<div ng-if="checkout.isFinished" class="order-created">
			<h2>The order created successfully!</h2>
			<div class="order-number">
				Your order number: <span id="orderNumber">{{checkout.order.number}}</span>
			</div>
		</div>
	</div>
</div>